<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">

    <display-name>Tourism Management System</display-name>

    <!-- 欢迎页面 -->
    <welcome-file-list>
        <welcome-file>login.jsp</welcome-file>
    </welcome-file-list>

    <!-- 登录Servlet -->
    <servlet>
        <servlet-name>LoginServlet</servlet-name>
        <servlet-class>com.tourism.servlet.LoginServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>LoginServlet</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>

    <!-- 退出登录Servlet -->
    <servlet>
        <servlet-name>LogoutServlet</servlet-name>
        <servlet-class>com.tourism.servlet.LogoutServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>LogoutServlet</servlet-name>
        <url-pattern>/logout</url-pattern>
    </servlet-mapping>

    <!-- 城市列表Servlet -->
    <servlet>
        <servlet-name>CityListServlet</servlet-name>
        <servlet-class>com.tourism.servlet.CityListServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CityListServlet</servlet-name>
        <url-pattern>/city/list</url-pattern>
    </servlet-mapping>

    <!-- 添加城市Servlet -->
    <servlet>
        <servlet-name>CityAddServlet</servlet-name>
        <servlet-class>com.tourism.servlet.CityAddServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CityAddServlet</servlet-name>
        <url-pattern>/city/add</url-pattern>
    </servlet-mapping>

    <!-- 编辑城市准备Servlet -->
    <servlet>
        <servlet-name>CityEditPrepareServlet</servlet-name>
        <servlet-class>com.tourism.servlet.CityEditPrepareServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CityEditPrepareServlet</servlet-name>
        <url-pattern>/city/edit/prepare</url-pattern>
    </servlet-mapping>

    <!-- 更新城市Servlet -->
    <servlet>
        <servlet-name>CityUpdateServlet</servlet-name>
        <servlet-class>com.tourism.servlet.CityUpdateServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CityUpdateServlet</servlet-name>
        <url-pattern>/city/update</url-pattern>
    </servlet-mapping>

    <!-- 删除城市Servlet -->
    <servlet>
        <servlet-name>CityDeleteServlet</servlet-name>
        <servlet-class>com.tourism.servlet.CityDeleteServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CityDeleteServlet</servlet-name>
        <url-pattern>/city/delete</url-pattern>
    </servlet-mapping>

    <!-- 景点列表Servlet -->
    <servlet>
        <servlet-name>AttractionListServlet</servlet-name>
        <servlet-class>com.tourism.servlet.AttractionListServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AttractionListServlet</servlet-name>
        <url-pattern>/attraction/list</url-pattern>
    </servlet-mapping>

    <!-- 添加景点Servlet -->
    <servlet>
        <servlet-name>AttractionAddServlet</servlet-name>
        <servlet-class>com.tourism.servlet.AttractionAddServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AttractionAddServlet</servlet-name>
        <url-pattern>/attraction/add</url-pattern>
    </servlet-mapping>

    <!-- 删除景点Servlet -->
    <servlet>
        <servlet-name>AttractionDeleteServlet</servlet-name>
        <servlet-class>com.tourism.servlet.AttractionDeleteServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AttractionDeleteServlet</servlet-name>
        <url-pattern>/attraction/delete</url-pattern>
    </servlet-mapping>

    <!-- 景点详情Servlet -->
    <servlet>
        <servlet-name>AttractionDetailServlet</servlet-name>
        <servlet-class>com.tourism.servlet.AttractionDetailServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AttractionDetailServlet</servlet-name>
        <url-pattern>/attraction/detail</url-pattern>
    </servlet-mapping>

    <!-- 上传图片Servlet -->
    <servlet>
        <servlet-name>ImageUploadServlet</servlet-name>
        <servlet-class>com.tourism.servlet.ImageUploadServlet</servlet-class>
        <multipart-config>
            <!-- 设置上传文件的最大尺寸 -->
            <max-file-size>5242880</max-file-size> <!-- 5MB -->
            <max-request-size>10485760</max-request-size> <!-- 10MB -->
            <file-size-threshold>0</file-size-threshold>
        </multipart-config>
    </servlet>
    <servlet-mapping>
        <servlet-name>ImageUploadServlet</servlet-name>
        <url-pattern>/image/upload</url-pattern>
    </servlet-mapping>

</web-app>
